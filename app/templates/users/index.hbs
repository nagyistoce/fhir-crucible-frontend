<div class="container main">
  <div class="row">

    <div class="palette user analytics col-md-12">
      <div class="row">
        <div class="add_server_button" {{action 'addServer'}}>
          <i class="fa fa-plus fa-fw"></i>
          Add Server
        </div>

        <div id='serverList' class="col-md-10">
          <h1>My Servers</h1>
          {{#each proxiedServers as |server|}}
            <p {{bind-attr class="server.selected:active :clickable-list-item"}} {{action 'toggleServer' server}}>
              {{server.content.url}}
              <button {{action 'runTest' server.content}} class="btn">Run Test</button>
            </p>
          {{/each}}
        </div>

        {{input action="submit" value=url class="form-control" id="addServerInput" placeholder="Please enter FHIR Server URL"}}

        <div class="chart" {{action 'sideChart'}}></div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="palette user col-md-12">
      <h1>My Tests</h1>
      {{histogram-chart data=aggregatedTestRuns servers=serverIds binningField="id" timeSpan="day" bandPadding=0.1 byDate=false rollupBy="testResults.length"}}
      <h3>Test Runs</h3>
      <h4>[Selected Date]</h4>
        {{#each aggregatedTestRuns as |testRun|}}
          {{test-run-details testRun=testRun}}
        {{/each}}
    </div>
  </div>
</div>
